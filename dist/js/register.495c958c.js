"use strict";(self["webpackChunkjingdong"]=self["webpackChunkjingdong"]||[]).push([[685],{7267:function(e,s,n){n.d(s,{Z:function(){return d},S:function(){return c}});var a=n(3396),t=n(7139);const r={class:"toast"};function o(e,s,n,o,p,u){return(0,a.wg)(),(0,a.iD)("div",r,(0,t.zw)(n.message),1)}var p=n(4870),u={props:["message"]};const c=()=>{const e=(0,p.qj)({show:!1,toastMessage:""}),s=s=>{e.show=!0,e.toastMessage=s,setTimeout((()=>{e.show=!1,e.toastMessage=""}),2e3)},{show:n,toastMessage:a}=(0,p.BK)(e);return{show:n,toastMessage:a,showToast:s}};var l=n(89);const i=(0,l.Z)(u,[["render",o],["__scopeId","data-v-affc00d8"]]);var d=i},292:function(e,s,n){n.r(s),n.d(s,{default:function(){return C}});var a=n(3396),t=n(9242);const r=e=>((0,a.dD)("data-v-c64a7eda"),e=e(),(0,a.Cn)(),e),o={class:"wrapper"},p=r((()=>(0,a._)("img",{class:"wrapper__img",src:"http://www.dell-lee.com/imgs/vue3/user.png"},null,-1))),u={class:"wrapper__input"},c={class:"wrapper__input"},l={class:"wrapper__input"};function i(e,s,n,r,i,d){const w=(0,a.up)("Toast");return(0,a.wg)(),(0,a.iD)("div",o,[p,(0,a._)("div",u,[(0,a.wy)((0,a._)("input",{class:"wrapper__input__content",placeholder:"请输入手机号","onUpdate:modelValue":s[0]||(s[0]=s=>e.usenrame=s)},null,512),[[t.nr,e.usenrame]])]),(0,a._)("div",c,[(0,a.wy)((0,a._)("input",{class:"wrapper__input__content",placeholder:"请输入密码",type:"password",autocomplete:"new-password","onUpdate:modelValue":s[1]||(s[1]=s=>e.password=s)},null,512),[[t.nr,e.password]])]),(0,a._)("div",l,[(0,a.wy)((0,a._)("input",{type:"password",class:"wrapper__input__content",placeholder:"确认密码",autocomplete:"new-password","onUpdate:modelValue":s[2]||(s[2]=e=>r.ensurement=e)},null,512),[[t.nr,r.ensurement]])]),(0,a._)("div",{class:"wrapper__register-button",onClick:s[3]||(s[3]=(...e)=>r.handleRegister&&r.handleRegister(...e))},"注册"),(0,a._)("div",{class:"wrapper__register-link",onClick:s[4]||(s[4]=(...e)=>r.handleLoginClick&&r.handleLoginClick(...e))},"已有账号去登陆"),r.show?((0,a.wg)(),(0,a.j4)(w,{key:0,message:r.toastMessage},null,8,["message"])):(0,a.kq)("",!0)])}var d=n(2483),w=n(4870),g=n(4471),_=n(7267);const m=e=>{const s=(0,d.tv)(),n=(0,w.qj)({username:"",password:"",ensurement:""}),a=async()=>{try{const a=await(0,g.v)("/api/user/register",{username:n.username,password:n.password});0===a?.errno?s.push({name:"Login"}):e("注册失败")}catch(a){e("请求失败")}},{username:t,password:r,ensurement:o}=(0,w.BK)(n);return{username:t,password:r,ensurement:o,handleRegister:a}},h=()=>{const e=(0,d.tv)(),s=()=>{e.push({name:"Login"})};return{handleLoginClick:s}};var v={name:"Register",componment:{Toast:_.Z},setup(){const{show:e,toastMessage:s,showToast:n}=(0,_.S)(),{username:a,paaword:t,ensurement:r,handleRegister:o}=m(n),{handleLoginClick:p}=h();return{username:a,paaword:t,ensurement:r,handleRegister:o,handleLoginClick:p,show:e,toastMessage:s,showToast:n}}},k=n(89);const f=(0,k.Z)(v,[["render",i],["__scopeId","data-v-c64a7eda"]]);var C=f}}]);
//# sourceMappingURL=register.495c958c.js.map