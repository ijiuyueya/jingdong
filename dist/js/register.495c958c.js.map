{"version":3,"file":"js/register.495c958c.js","mappings":"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","sources":["webpack://jingdong/./src/components/Toast.vue","webpack://jingdong/./src/components/Toast.vue?44c7","webpack://jingdong/./src/views/register/Register.vue","webpack://jingdong/./src/views/register/Register.vue?6e35"],"sourcesContent":["<template>\r\n  <div class=\"toast\">{{message}}</div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\n\r\nexport default {\r\n  props: ['message']\r\n}\r\n\r\nexport const useToastEffect = () => {\r\n  const toastData = reactive({\r\n    show: false,\r\n    toastMessage: ''\r\n  })\r\n\r\n  const showToast = (message) => {\r\n    toastData.show = true\r\n    toastData.toastMessage = message\r\n    setTimeout(() => {\r\n      toastData.show = false\r\n      toastData.toastMessage = ''\r\n    }, 2000)\r\n  }\r\n\r\n  const { show,toastMessage } = toRefs( toastData )\r\n  \r\n  return { show,toastMessage, showToast }\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.toast {\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: .1rem;\r\n  background: rgba(0, 0, 0, .35);\r\n  border-radius: .05rem;\r\n  color: #FFF;\r\n}\r\n</style>\r\n","import { render } from \"./Toast.vue?vue&type=template&id=affc00d8&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=affc00d8&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\17436\\\\Desktop\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-affc00d8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <img class=\"wrapper__img\" src=\"http://www.dell-lee.com/imgs/vue3/user.png\"/>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入手机号\"\r\n        v-model=\"usenrame\"\r\n        />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"请输入密码\"\r\n        type=\"password\"\r\n        autocomplete=\"new-password\"\r\n        v-model=\"password\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__input\">\r\n      <input\r\n        type=\"password\"\r\n        class=\"wrapper__input__content\"\r\n        placeholder=\"确认密码\"\r\n        autocomplete=\"new-password\"\r\n        v-model=\"ensurement\"\r\n      />\r\n    </div>\r\n    <div class=\"wrapper__register-button\" @click=\"handleRegister\">注册</div>\r\n    <div class=\"wrapper__register-link\" @click=\"handleLoginClick\">已有账号去登陆</div>\r\n    <Toast v-if=\"show\" :message=\"toastMessage\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useRouter } from 'vue-router'\r\nimport { reactive, toRefs } from 'vue'\r\nimport { post } from '../../utils/request'\r\nimport Toast ,{ useToastEffect }from '../../components/Toast'\r\n\r\n\r\n//封装注册相关逻辑\r\nconst useRegisterEffect = (showToast) => {\r\n  const router = useRouter()\r\n  const data = reactive({\r\n    username: '',\r\n    password: '',\r\n    ensurement:''\r\n  })\r\n//注册点击事件函数\r\n  const handleRegister = async () => {\r\n    try {\r\n      const result = await post('/api/user/register', {\r\n        username: data.username,\r\n        password: data.password\r\n      })\r\n      if (result?.errno === 0) {\r\n        //localStorage.isLogin = true  不会进去主页面\r\n        router.push({ name: 'Login' })\r\n      } else {\r\n        showToast('注册失败')\r\n      }\r\n    } catch (e) {\r\n      showToast('请求失败')\r\n    }\r\n  }\r\n\r\n  const { username, password, ensurement } = toRefs(data)\r\n  return { username, password, ensurement, handleRegister }\r\n}\r\n\r\n//处理跳转去登陆页面的事件\r\nconst useLoginEffect = () => {\r\n    const router = useRouter()\r\n    const handleLoginClick = () => {\r\n      router.push({ name: 'Login'});\r\n    }\r\n    return { handleLoginClick }\r\n  }\r\n\r\n//核心流程\r\nexport default {\r\n  name: 'Register',\r\n  componment:{ Toast },\r\n  setup() {\r\n    const { show, toastMessage ,showToast } = useToastEffect()\r\n    const { username, paaword, ensurement, handleRegister } = useRegisterEffect(showToast)\r\n    const { handleLoginClick } = useLoginEffect()\r\n\r\n    return {\r\n      username, paaword, ensurement,\r\n      handleRegister,handleLoginClick,\r\n      show, toastMessage ,showToast\r\n   }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/variables.scss';\r\n.wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 0;\r\n  right: 0;\r\n  transform: translateY(-50%);\r\n  &__img {\r\n    display: block;\r\n    margin: 0 auto .4rem auto;\r\n    width: .66rem;\r\n    height: .66rem;\r\n  }\r\n  &__input {\r\n    height: .48rem;\r\n    margin: 0 .4rem .16rem .4rem;\r\n    padding: 0 .16rem;\r\n    background: #F9F9F9;\r\n    border: .01rem solid rgba(0,0,0,0.10);\r\n    border-radius: .06rem;\r\n    border-radius: .06rem;\r\n    &__content {\r\n      margin-top:.12rem;\r\n      line-height: .22rem;\r\n      border: none;\r\n      outline: none;\r\n      width: 100%;\r\n      background: none;\r\n      font-size: .16rem;\r\n      color: $content-notice-fontcolor;\r\n      &::placeholder {\r\n        color: $content-notice-fontcolor;\r\n      }\r\n    }\r\n  }\r\n  &__register-button {\r\n    margin: .32rem .4rem .16rem .4rem;\r\n    line-height: .48rem;\r\n    background: #0091FF;\r\n    box-shadow: 0 .04rem .08rem 0 rgba(0,145,255,0.32);\r\n    border-radius: .04rem;\r\n    border-radius: .04rem;\r\n    color: #fff;\r\n    font-size: .16rem;\r\n    text-align: center;\r\n  }\r\n  &__register-link {\r\n    text-align: center;\r\n    font-size: .14rem;\r\n    color: $content-notice-fontcolor;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./Register.vue?vue&type=template&id=c64a7eda&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=c64a7eda&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\17436\\\\Desktop\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c64a7eda\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_toDisplayString","$props","props","useToastEffect","toastData","reactive","show","toastMessage","showToast","message","setTimeout","toRefs","__exports__","render","_createElementVNode","src","_hoisted_2","placeholder","_ctx","$event","type","autocomplete","$setup","onClick","_createBlock","_component_Toast","useRegisterEffect","router","useRouter","data","username","password","ensurement","handleRegister","async","result","post","errno","push","name","e","useLoginEffect","handleLoginClick","componment","Toast","setup","paaword"],"sourceRoot":""}