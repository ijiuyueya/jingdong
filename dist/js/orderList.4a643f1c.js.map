{"version":3,"file":"js/orderList.4a643f1c.js","mappings":"gLACOA,MAAM,U,mBAQDA,MAAM,iB,0EARhBC,EAAAA,EAAAA,IAWM,MAXN,EAWM,gBAVHA,EAAAA,EAAAA,IASMC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IARmBC,EAAAA,YAAU,CAAzBC,EAAKC,M,WADfL,EAAAA,EAAAA,IASM,OAPHD,OAAK,gDAAgDM,IAAUC,EAAAA,eAC/DC,IAAKH,EAAKI,MAHb,EAKAC,EAAAA,EAAAA,IAGcC,EAAA,CAHAC,GAAIP,EAAKO,IAAvB,C,kBACE,IAA2C,EAA3CC,EAAAA,EAAAA,GAA2C,OAAtCb,MAAM,WAAWc,UAAQT,EAAKI,MAAnC,WACAI,EAAAA,EAAAA,GAA8C,MAA9C,GAA8CE,EAAAA,EAAAA,IAAjBV,EAAKW,MAAI,M,KAFxC,cALA,a,CAaJ,OACEC,KAAM,SACNC,MAAM,CAAC,gBACPC,QACE,MAAMC,EAAa,CACjB,CAAEX,KAAM,WAAYO,KAAM,KAAKJ,GAAG,CAACK,KAAM,SACzC,CAAER,KAAM,WAAYO,KAAM,MAAMJ,GAAG,CAAEK,KAAK,aAC1C,CAAER,KAAM,WAAYO,KAAM,KAAKJ,GAAG,CAAEK,KAAK,cACzC,CAAER,KAAM,WAAYO,KAAM,KAAMJ,GAAG,CAAEK,KAAK,UAE5C,MAAO,CAAEG,aACX,G,QCnBH,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,2JCRMtB,MAAM,W,UACVa,EAAAA,EAAAA,GAA6B,OAAxBb,MAAM,SAAQ,QAAI,K,GAClBA,MAAM,U,GAMFA,MAAM,gB,GAELA,MAAM,iB,GAIPA,MAAM,kB,GACLA,MAAM,wB,aAaNA,MAAM,wB,GACLA,MAAM,yB,GACNA,MAAM,yB,yFA9BlBa,EAAAA,EAAAA,GAmCO,MAnCP,EAmCO,CAlCNU,GACAV,EAAAA,EAAAA,GAgCM,MAhCN,EAgCM,gBA/BJZ,EAAAA,EAAAA,IA8BMC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA5BoBC,EAAAA,MAAI,CAApBC,EAAMC,M,WAFhBL,EAAAA,EAAAA,IA8BM,OA7BJD,MAAM,QAELQ,IAAKF,GAHR,EAKEO,EAAAA,EAAAA,GAKI,MALJ,EAKI,mBAJAR,EAAKmB,UAAU,IACnB,IAAAX,EAAAA,EAAAA,GAEO,OAFP,GAEOE,EAAAA,EAAAA,IADJV,EAAKoB,WAAU,mBAGlBZ,EAAAA,EAAAA,GAkBM,MAlBN,EAkBM,EAjBLA,EAAAA,EAAAA,GAYM,MAZN,EAYM,gBAXLZ,EAAAA,EAAAA,IASWC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IARyBE,EAAKqB,UAAQ,CAAvCC,EAAWC,M,6BACbA,GAAU,CAKRA,GAAc,IAAJ,WAHlB3B,EAAAA,EAAAA,IAII,O,MAHFD,MAAM,sBACL6B,IAAKF,EAAUG,QAAQC,KAF1B,4BAFgB,OAFlB,SAYDlB,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFLA,EAAAA,EAAAA,GAA6D,MAA7D,EAAmC,KAACE,EAAAA,EAAAA,IAAEV,EAAK2B,YAAU,IACrDnB,EAAAA,EAAAA,GAAgE,MAAhE,EAAmC,MAAEE,EAAAA,EAAAA,IAAEV,EAAK4B,aAAa,IAAC,YA3B9D,WAiCAvB,EAAAA,EAAAA,IAA6BwB,EAAA,CAApBC,aAAe,KAAxB,G,mCAQJ,MAAMC,EAAqB,KACzB,MAAMC,GAAOC,EAAAA,EAAAA,IAAS,CAAEC,KAAK,KACvBC,EAAgBC,UACpB,MAAMC,QAAeC,EAAAA,EAAAA,GAAI,cACzB,GAAqB,IAAlBD,GAAQE,OAAeF,GAAQL,MAAMQ,OAAS,CAC/C,MAAMC,EAAYJ,EAAOL,KACzBS,EAAUC,SAASC,IAChB,MAAMtB,EAAWsB,EAAMtB,UAAY,GACnC,IAAIM,EAAa,EACbC,EAAc,EAClBP,EAASqB,SAASE,IACjBhB,GAAgBgB,GAAaC,YAAc,EAC3ClB,GAAgBiB,GAAanB,SAASqB,MAAQF,GAAaC,YAAe,CAA1E,IAEDF,EAAMf,YAAcA,EACpBe,EAAMhB,WAAaA,CAAnB,IAEHK,EAAKE,KAAOG,EAAOL,IACrB,GAEFG,IACA,MAAM,KAAED,IAASa,EAAAA,EAAAA,IAAOf,GACxB,MAAO,CAAEE,OAAT,EAIF,OACEtB,KAAK,YACLoC,WAAW,CAAEC,OAAMA,EAAAA,GACnBnC,QACE,MAAM,KAAEoB,GAASH,IACjB,MAAO,CAAEG,OACX,G,QCtEF,MAAMlB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://jingdong/./src/components/Docker.vue","webpack://jingdong/./src/components/Docker.vue?f302","webpack://jingdong/./src/views/orderList/OrderList.vue","webpack://jingdong/./src/views/orderList/OrderList.vue?8702"],"sourcesContent":["<template>\r\n  <div class=\"docker\">\r\n     <div\r\n       v-for=\"(item,index) in dockerList\"\r\n       :class=\"{'docker__item':true, 'docker__item--active': index === currentIndex }\"\r\n       :key=\"item.icon\"\r\n     >\r\n     <router-link :to='item.to'>\r\n       <div class=\"iconfont\" v-html=\"item.icon\" />\r\n       <div class=\"docker__title\">{{item.text}}</div>\r\n     </router-link>\r\n     </div>\r\n  </div>\r\n </template>\r\n <script>\r\n export default {\r\n   name: 'Docker',\r\n   props:['currentIndex'],\r\n   setup () {\r\n     const dockerList = [\r\n       { icon: '&#xe60b;', text: '首页',to:{name: 'Home'} },\r\n       { icon: '&#xe61b;', text: '购物车',to:{ name:'CartList'} },\r\n       { icon: '&#xe619;', text: '订单',to:{ name:'OrderList'} },\r\n       { icon: '&#xe75e;', text: '我的', to:{ name:'Home'} }\r\n     ]\r\n     return { dockerList }\r\n   }\r\n }\r\n </script>\r\n\r\n <style lang=\"scss\" scoped >\r\n @import '../style/variables.scss';\r\n .docker {\r\n   display:flex;\r\n   box-sizing: border-box;\r\n   position:absolute;\r\n   padding:0 .18rem;\r\n   left: 0;\r\n   bottom: 0;\r\n   width: 100%;\r\n   height: 0.49rem;\r\n   border-top: .01rem solid $content-bgColor;\r\n   color:$content-fontcolor;\r\n   &__item {\r\n     flex: 1;\r\n     text-align: center;\r\n     a{\r\n       color:$content-fontcolor;\r\n       text-decoration: none;\r\n     }\r\n     .iconfont {\r\n       margin: .07rem 0 .02rem 0;\r\n       font-size: .18rem;\r\n     }\r\n     &--active {\r\n      a{\r\n        color: #1FA4FC;\r\n      }\r\n     }\r\n   }\r\n   &__title {\r\n     font-size: .2rem;\r\n     transform: scale(.5, .5);\r\n     transform-origin: center top;\r\n   }\r\n }\r\n </style>\r\n","import { render } from \"./Docker.vue?vue&type=template&id=c03ff46c&scoped=true\"\nimport script from \"./Docker.vue?vue&type=script&lang=js\"\nexport * from \"./Docker.vue?vue&type=script&lang=js\"\n\nimport \"./Docker.vue?vue&type=style&index=0&id=c03ff46c&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\17436\\\\Desktop\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c03ff46c\"]])\n\nexport default __exports__","<template>\r\n <div class=\"wrapper\">\r\n  <div class=\"title\">我的订单</div>\r\n  <div class=\"orders\">\r\n    <div\r\n      class=\"order\"\r\n      v-for=\"(item, index) in list\"\r\n      :key=\"index\"\r\n      >\r\n      <div class=\"order__title\">\r\n        {{item.shopName}}\r\n      <span class=\"order__status\">\r\n       {{item.isCanceled ? '已取消' : '已下单'}}\r\n      </span>\r\n    </div>\r\n      <div class=\"order__content\">\r\n       <div class=\"order__content__imgs\">\r\n        <template\r\n          v-for=\"(innerItem, innerIndex) in item.products\"\r\n          :key=\"innerIndex\"\r\n        >\r\n          <img\r\n            class=\"order__content__img\"\r\n            :src=\"innerItem.product.img\"\r\n            v-if=\"innerIndex <= 3\"\r\n            />\r\n        </template>\r\n\r\n       </div>\r\n       <div class=\"order__content__info\">\r\n        <div class=\"order__content__price\">￥{{item.totalPrice}}</div>\r\n        <div class=\"order__content__count\">共 {{item.totalNumber}}件</div>\r\n       </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n    <Docker :currentIndex =\"2\" />\r\n</template>\r\n<script>\r\nimport { reactive, toRefs } from 'vue'\r\nimport { get } from '../../utils/request'\r\nimport Docker from '../../components/Docker'\r\n\r\n//处理订单列表逻辑\r\nconst useOrderListEffect = () => {\r\n  const data = reactive({ list:[]})\r\n  const getNearbyList = async () =>{\r\n    const result = await get('/api/order')\r\n    if(result?.errno === 0 && result?.data?.length ) {\r\n      const orderList = result.data\r\n      orderList.forEach((order) => {\r\n         const products = order.products || []\r\n         let totalPrice = 0\r\n         let totalNumber = 0\r\n         products.forEach((productItem) => {\r\n          totalNumber += (productItem?.orderSales || 0)\r\n          totalPrice += ((productItem?.product?.price * productItem?.orderSales) || 0)\r\n         })\r\n         order.totalNumber = totalNumber\r\n         order.totalPrice = totalPrice\r\n      })\r\n      data.list = result.data\r\n    }\r\n  }\r\n  getNearbyList()\r\n  const { list } = toRefs(data)\r\n  return { list }\r\n}\r\n\r\n\r\nexport default {\r\n  name:'OrderList',\r\n  components:{ Docker},\r\n  setup () {\r\n    const { list } = useOrderListEffect()\r\n    return { list }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../../style/variables.scss';\r\n\r\n.wrapper{\r\n  overflow-y:auto;\r\n  position: absolute;\r\n  left:0;\r\n  top:0;\r\n  bottom: .5rem;\r\n  right: 0;\r\n  background-color:rgb(248,248,248);\r\n}\r\n.title{\r\n  text-align:center;\r\n  font-size:.16rem;\r\n  color:$content-fontcolor;\r\n  line-height: .44rem;\r\n  background-color: $bgColor;\r\n}\r\n.order{\r\n  margin:.16rem .18rem;\r\n  padding:.16rem;\r\n  background:$bgColor;\r\n  &__title{\r\n    margin-bottom:.16rem;\r\n    line-height:.22rem;\r\n    font-size:.16rem;\r\n    color:$content-fontcolor;\r\n  }\r\n  &__status{\r\n    float:right;\r\n    font-size:.14rem;\r\n    color:$light-fontColor;\r\n  }\r\n  &__content{\r\n    display:flex;\r\n    &__imgs{\r\n      flex:1;\r\n    }\r\n    &__img{\r\n      width:.4rem;\r\n      height:.4rem;\r\n      margin-right:.12rem;\r\n    }\r\n    &__info{\r\n      width:.7rem;\r\n    }\r\n    &__price{\r\n      margin-bottom:.04rem;\r\n      line-height:.2rem;\r\n      font-size:.14rem;\r\n      color:#E93B3B;\r\n      text-align: center;\r\n    }\r\n    &__count{\r\n      line-height:.14rem;\r\n      font-size:.12rem;\r\n      color:$content-fontcolor;\r\n      text-align: center;\r\n    }\r\n  }\r\n}\r\n\r\n</style>\r\n\r\n","import { render } from \"./OrderList.vue?vue&type=template&id=3bfa15d6&scoped=true\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js\"\n\nimport \"./OrderList.vue?vue&type=style&index=0&id=3bfa15d6&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\17436\\\\Desktop\\\\jingdong\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3bfa15d6\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_Fragment","_renderList","$setup","item","index","$props","key","icon","_createVNode","_component_router_link","to","_createElementVNode","innerHTML","_toDisplayString","text","name","props","setup","dockerList","__exports__","render","_hoisted_2","shopName","isCanceled","products","innerItem","innerIndex","src","product","img","totalPrice","totalNumber","_component_Docker","currentIndex","useOrderListEffect","data","reactive","list","getNearbyList","async","result","get","errno","length","orderList","forEach","order","productItem","orderSales","price","toRefs","components","Docker"],"sourceRoot":""}